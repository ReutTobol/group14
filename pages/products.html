<!DOCTYPE html>
<html dir="rtl" lang="he">
<head>
    <meta charset="UTF-8">
    <title>AppleSpot - Products</title>
    <link rel="stylesheet" href="/group14/css/style.css">
    <link rel="stylesheet" href="/group14/css/product-gallery.css">
</head>
<body>
    <div id="header-component"></div>
    <h1 class="page-title" id="categoryTitle"></h1>
    <div class="product-grid" id="productGrid"></div>

    <script src="/group14/js/components.js"></script>

    <script type="module">
        import { displayProducts } from '/group14/js/product-gallery.js';
        
        const categoryTitles = {
            'mac': 'מחשבי מק',
            'ipad': 'אייפד',
            'iphone': 'אייפון',
            'watch': 'אפל ווטש',
            'accessories': 'אביזרים'
        };

        document.addEventListener('DOMContentLoaded', async () => {
            await loadComponent('header-component', '/group14/components/header.html');
            
            // Get category from URL parameter
            const urlParams = new URLSearchParams(window.location.search);
            const category = urlParams.get('category') || 'mac'; // Default to mac if no category specified
            
            // Update page title
            document.title = `AppleSpot - ${categoryTitles[category] || 'Products'}`;

            // Display products for the category
            displayProducts(category);
        });
    </script>
</body>
</html>